{{#models}}
{{#model}}
{{^isEnum}}
{{^vendorExtensions.x-is-one-of}}
{{^vendorExtensions.x-is-any-of}}
// AUTO-GENERATED FILE - DO NOT EDIT
import 'package:json_annotation/json_annotation.dart';
{{#vendorExtensions.x-extends-sealed-class}}
import '{{vendorExtensions.x-sealed-parent-filename}}.dart';
{{/vendorExtensions.x-extends-sealed-class}}
{{#imports}}
import '{{.}}';
{{/imports}}

part '{{classFilename}}.g.dart';

{{/vendorExtensions.x-is-any-of}}
{{/vendorExtensions.x-is-one-of}}
{{/isEnum}}
{{#isEnum}}
/// Enum {{classname}}
///
/// Generated from OpenAPI enum schema.
enum {{classname}} {
{{#allowableValues}}
{{#enumVars}}
  /// Original value: {{value}}
  {{name}}{{^-last}},{{/-last}}
{{/enumVars}}
{{/allowableValues}}
}
{{/isEnum}}
{{^isEnum}}
{{#vendorExtensions}}
{{#x-is-one-of}}
{{#imports}}
import '{{.}}';
{{/imports}}

/// oneOf composition: {{classname}}
///
/// Generated from OpenAPI oneOf schema.
/// Represents a value that can be one of several alternatives.
abstract class {{classname}} {
{{#x-has-discriminator}}
  /// Creates an instance from JSON using the discriminator property.
  factory {{classname}}.fromJson(Map<String, dynamic> json) {
    final discriminator = json['{{x-discriminator-name}}'];
    switch (discriminator) {
{{#x-discriminator-mapping}}
      case '{{mappingKey}}':
        return {{subclassName}}.fromJson(json);
{{/x-discriminator-mapping}}
      default:
        throw FormatException('Unknown {{x-discriminator-name}}: $discriminator');
    }
  }
{{/x-has-discriminator}}
{{^x-has-discriminator}}
  /// Creates an instance from JSON by trying each alternative.
  /// Uses the first alternative that successfully deserializes.
  factory {{classname}}.fromJson(dynamic json) {
{{#x-one-of-alternatives}}
    // Try {{subclassName}}
    try {
      return {{subclassName}}.fromJson(json);
    } catch (_) {}
{{/x-one-of-alternatives}}
    throw FormatException('No matching oneOf alternative for {{classname}}');
  }
{{/x-has-discriminator}}

  Map<String, dynamic> toJson();
}

{{#x-one-of-alternatives}}
{{#isRef}}
// Subclass {{subclassName}} is defined in {{importPath}}
// It should implement {{parentClassName}}
{{/isRef}}
{{#isPrimitive}}
/// Wrapper class for primitive type {{dartType}}
class {{subclassName}} implements {{parentClassName}} {
  final {{dartType}} value;

  {{subclassName}}(this.value);

  factory {{subclassName}}.fromJson(dynamic json) {
    if (json is {{dartType}}) {
      return {{subclassName}}(json);
    }
    throw FormatException('Expected {{dartType}}');
  }

  @override
  Map<String, dynamic> toJson() => {'value': value};
}
{{/isPrimitive}}
{{#isInline}}
// TODO: Implement inline schema {{subclassName}} implementing {{parentClassName}}
{{/isInline}}
{{/x-one-of-alternatives}}
{{/x-is-one-of}}
{{#x-is-any-of}}
{{#imports}}
import '{{.}}';
{{/imports}}

/// anyOf composition: {{classname}}
///
/// Generated from OpenAPI anyOf schema.
/// Represents a value that can match any of several alternatives.
/// Note: At runtime, Dart cannot distinguish between oneOf and anyOf semantics.
/// The first matching alternative will be used during deserialization.
abstract class {{classname}} {
  /// Creates an instance from JSON by trying each alternative.
  /// Uses the first alternative that successfully deserializes.
  factory {{classname}}.fromJson(dynamic json) {
{{#x-any-of-alternatives}}
    // Try {{subclassName}}
    try {
      return {{subclassName}}.fromJson(json);
    } catch (_) {}
{{/x-any-of-alternatives}}
    throw FormatException('No matching anyOf alternative for {{classname}}');
  }

  Map<String, dynamic> toJson();
}

{{#x-any-of-alternatives}}
{{#isRef}}
// Subclass {{subclassName}} is defined in {{importPath}}
// It should implement {{parentClassName}}
{{/isRef}}
{{#isPrimitive}}
/// Wrapper class for primitive type {{dartType}}
class {{subclassName}} implements {{parentClassName}} {
  final {{dartType}} value;

  {{subclassName}}(this.value);

  factory {{subclassName}}.fromJson(dynamic json) {
    if (json is {{dartType}}) {
      return {{subclassName}}(json);
    }
    throw FormatException('Expected {{dartType}}');
  }

  @override
  Map<String, dynamic> toJson() => {'value': value};
}
{{/isPrimitive}}
{{#isInline}}
// TODO: Implement inline schema {{subclassName}} implementing {{parentClassName}}
{{/isInline}}
{{/x-any-of-alternatives}}
{{/x-is-any-of}}
{{^x-is-one-of}}
{{^x-is-any-of}}
{{#description}}
/// {{{description}}}
{{/description}}
{{^description}}
/// {{classname}} model
{{/description}}
///
/// Generated from OpenAPI schema.
@JsonSerializable()
class {{classname}}{{#vendorExtensions.x-extends-sealed-class}} implements {{vendorExtensions.x-sealed-parent}}{{/vendorExtensions.x-extends-sealed-class}} {
{{#vars}}
{{#description}}
  /// {{{description}}}
{{/description}}
{{#vendorExtensions.x-is-composition-property}}
  @JsonKey(name: '{{baseName}}', fromJson: _{{name}}FromJson, toJson: _{{name}}ToJson)
{{/vendorExtensions.x-is-composition-property}}
{{^vendorExtensions.x-is-composition-property}}
  @JsonKey(name: '{{baseName}}')
{{/vendorExtensions.x-is-composition-property}}
  final {{dataType}}{{^required}}?{{/required}} {{name}};
{{/vars}}

  {{classname}}({
{{#vars}}
{{#required}}
    required this.{{name}},
{{/required}}
{{^required}}
    this.{{name}},
{{/required}}
{{/vars}}
  });

{{#vars}}
{{#vendorExtensions.x-is-composition-property}}
  /// Custom JSON converter for oneOf/anyOf property: {{name}}
  static {{dataType}}{{^required}}?{{/required}} _{{name}}FromJson(Map<String, dynamic>{{^required}}?{{/required}} json) {
{{#required}}
    return {{dataType}}.fromJson(json);
{{/required}}
{{^required}}
    if (json == null) return null;
    return {{dataType}}.fromJson(json);
{{/required}}
  }

  static Map<String, dynamic>{{^required}}?{{/required}} _{{name}}ToJson({{dataType}}{{^required}}?{{/required}} value) {
{{#required}}
    return value.toJson();
{{/required}}
{{^required}}
    return value?.toJson();
{{/required}}
  }

{{/vendorExtensions.x-is-composition-property}}
{{/vars}}
  factory {{classname}}.fromJson(Map<String, dynamic> json) => _${{classname}}FromJson(json);

{{#vendorExtensions.x-extends-sealed-class}}
  @override
{{/vendorExtensions.x-extends-sealed-class}}
  Map<String, dynamic> toJson() => _${{classname}}ToJson(this);
}
{{/x-is-any-of}}
{{/x-is-one-of}}
{{/vendorExtensions}}
{{/isEnum}}
{{/model}}
{{/models}}
